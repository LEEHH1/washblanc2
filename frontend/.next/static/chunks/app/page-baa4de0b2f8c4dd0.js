(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6159:(e,s,l)=>{Promise.resolve().then(l.bind(l,9809))},9809:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>i});var r=l(5155),a=l(2115),n=l(9606);function i(){let{register:e,handleSubmit:s,formState:{errors:l},watch:i}=(0,n.mN)({defaultValues:{franchiseTypes:{detailingShop:!1,selfCarWash:!1,noBrush:!1},hasCarWashExperience:!1,hasLandOwnership:!1}}),[t,d]=(0,a.useState)(!1),[c,o]=(0,a.useState)(null),[h,x]=(0,a.useState)(null),u=(0,a.useRef)(null),m=i("franchiseTypes"),p=m.detailingShop||m.selfCarWash||m.noBrush,f=async e=>{try{var s,l;d(!0),x(null);let r=new FormData;for(let a of(e.franchiseTypes.detailingShop&&r.append("franchiseType[]","detailingShop"),e.franchiseTypes.selfCarWash&&r.append("franchiseType[]","selfCarWash"),e.franchiseTypes.noBrush&&r.append("franchiseType[]","noBrush"),r.append("name",e.name),r.append("phone",e.phone),r.append("desiredLocation",e.desiredLocation),r.append("referralSource",e.referralSource),r.append("estimatedInvestment",e.estimatedInvestment),r.append("hasCarWashExperience",String(e.hasCarWashExperience)),r.append("hasLandOwnership",String(e.hasLandOwnership)),(null===(l=u.current)||void 0===l?void 0:null===(s=l.files)||void 0===s?void 0:s[0])&&r.append("document",u.current.files[0]),r.entries()))console.log("".concat(a[0],":"),a[1]);if((await fetch("http://localhost:4000/inquiry",{method:"POST",body:r})).ok)x("문의가 성공적으로 접수되었습니다! \uD83D\uDE80");else throw Error("문의 접수에 실패했습니다.")}catch(e){x("오류가 발생했습니다. 다시 시도해주세요."),console.error(e)}finally{d(!1)}};return(0,r.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-white",children:(0,r.jsxs)("div",{className:"bg-white p-8 w-full max-w-lg",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-center mb-6",children:"가맹점 문의"}),(0,r.jsxs)("form",{onSubmit:s(f),className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block font-medium text-gray-700 mb-2",children:"가맹유형 (중복선택 가능)"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"detailingShop",...e("franchiseTypes.detailingShop"),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,r.jsx)("label",{htmlFor:"detailingShop",className:"ml-2 text-gray-700",children:"디테일링샵"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"selfCarWash",...e("franchiseTypes.selfCarWash"),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,r.jsx)("label",{htmlFor:"selfCarWash",className:"ml-2 text-gray-700",children:"셀프세차장"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"noBrush",...e("franchiseTypes.noBrush"),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,r.jsx)("label",{htmlFor:"noBrush",className:"ml-2 text-gray-700",children:"노브러쉬"})]})]}),!p&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:"가맹유형을 하나 이상 선택해주세요"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block font-medium text-gray-700",children:"성함"}),(0,r.jsx)("input",{...e("name",{required:"성함을 입력해주세요"}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-400"}),l.name&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:l.name.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block font-medium text-gray-700",children:"연락처"}),(0,r.jsx)("input",{...e("phone",{required:"연락처를 입력해주세요"}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-400",placeholder:"010-0000-0000"}),l.phone&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:l.phone.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block font-medium text-gray-700",children:"희망지역"}),(0,r.jsxs)("select",{...e("desiredLocation",{required:"희망지역을 선택해주세요"}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-400",children:[(0,r.jsx)("option",{value:"",children:"희망지역 선택"}),(0,r.jsx)("option",{value:"서울",children:"서울"}),(0,r.jsx)("option",{value:"인천",children:"인천"}),(0,r.jsx)("option",{value:"경기",children:"경기"}),(0,r.jsx)("option",{value:"강원",children:"강원"}),(0,r.jsx)("option",{value:"충북",children:"충북"}),(0,r.jsx)("option",{value:"충남",children:"충남"}),(0,r.jsx)("option",{value:"전북",children:"전북"}),(0,r.jsx)("option",{value:"전남",children:"전남"}),(0,r.jsx)("option",{value:"경북",children:"경북"}),(0,r.jsx)("option",{value:"경남",children:"경남"}),(0,r.jsx)("option",{value:"제주",children:"제주"})]}),l.desiredLocation&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:l.desiredLocation.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block font-medium text-gray-700",children:"유입경로"}),(0,r.jsxs)("select",{...e("referralSource",{required:"유입경로를 선택해주세요"}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-400",children:[(0,r.jsx)("option",{value:"",children:"유입경로 선택"}),(0,r.jsx)("option",{value:"지인추천",children:"지인추천"}),(0,r.jsx)("option",{value:"유튜브",children:"유튜브"}),(0,r.jsx)("option",{value:"블로그",children:"블로그"}),(0,r.jsx)("option",{value:"인스타그램",children:"인스타그램"}),(0,r.jsx)("option",{value:"매장이용고객",children:"매장이용고객"}),(0,r.jsx)("option",{value:"기타",children:"기타"})]}),l.referralSource&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:l.referralSource.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block font-medium text-gray-700",children:"예상투자금"}),(0,r.jsxs)("select",{...e("estimatedInvestment",{required:"예상투자금을 선택해주세요"}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-400",children:[(0,r.jsx)("option",{value:"",children:"예상투자금 선택"}),(0,r.jsx)("option",{value:"1억 미만",children:"1억 미만"}),(0,r.jsx)("option",{value:"1억~5억",children:"1억~5억"}),(0,r.jsx)("option",{value:"5억~10억",children:"5억~10억"}),(0,r.jsx)("option",{value:"미정",children:"미정"})]}),l.estimatedInvestment&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:l.estimatedInvestment.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block font-medium text-gray-700 mb-2",children:"세차장운영경험"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",id:"experience-yes",value:"true",...e("hasCarWashExperience"),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),(0,r.jsx)("label",{htmlFor:"experience-yes",className:"ml-2 text-gray-700",children:"있음"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",id:"experience-no",value:"false",...e("hasCarWashExperience"),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),(0,r.jsx)("label",{htmlFor:"experience-no",className:"ml-2 text-gray-700",children:"없음"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block font-medium text-gray-700 mb-2",children:"토지소유여부"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",id:"land-yes",value:"true",...e("hasLandOwnership"),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),(0,r.jsx)("label",{htmlFor:"land-yes",className:"ml-2 text-gray-700",children:"있음"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",id:"land-no",value:"false",...e("hasLandOwnership"),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),(0,r.jsx)("label",{htmlFor:"land-no",className:"ml-2 text-gray-700",children:"없음"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block font-medium text-gray-700",children:"기획서 첨부"}),(0,r.jsx)("input",{type:"file",ref:u,className:"hidden",id:"file-upload",onChange:e=>{var s;let l=null===(s=e.target.files)||void 0===s?void 0:s[0];o(l?l.name:"파일이 선택되지 않았습니다."),console.log("선택한 파일:",l)}}),(0,r.jsx)("label",{htmlFor:"file-upload",className:"cursor-pointer block bg-gray-200 text-gray-700 text-center py-2 px-4 rounded-lg mt-1 hover:bg-gray-300",children:c||"파일 선택하기"})]}),(0,r.jsx)("button",{type:"submit",disabled:t||!p,className:"w-full bg-blue-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-600 disabled:bg-gray-400 flex items-center justify-center",children:t?(0,r.jsx)("div",{className:"animate-spin h-5 w-5 border-t-2 border-white border-solid rounded-full"}):"제출하기"})]}),h&&(0,r.jsx)("div",{className:"mt-4 p-3 bg-green-100 text-green-700 text-center rounded-lg",children:h})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[606,441,517,358],()=>s(6159)),_N_E=e.O()}]);